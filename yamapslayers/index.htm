<!--<!DOCTYPE html>-->
<!--<html>-->
<!--<head>-->
<!--    <meta http-equiv="X-UA-Compatible" content="IE=edge">-->
<!--    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">-->
<!--    <title>Карта банкоматов банка</title>-->
<!--    <script src="ymaps.js" type="text/javascript"></script>-->
<!--&lt;!&ndash;    <script src="http://api-maps.yandex.ru/2.1/?lang=ru_RU" type="text/javascript"></script>&ndash;&gt;-->
<!--    <script type="text/javascript" src="jquery-1.11.1.min.js"></script>-->
<!--&lt;!&ndash;    <script type="text/javascript" src="./js/jquery-ui-1.10.4.min.js"></script>&ndash;&gt;-->
<!--&lt;!&ndash;    <link href="./css/khmb/jquery-ui-1.10.3.custom.min.css" rel="stylesheet"/>&ndash;&gt;-->
<!--&lt;!&ndash;    <link href="./css/style.css" rel="stylesheet"/>&ndash;&gt;-->
<!--&lt;!&ndash;    <link href="./css/bootstrap.min.css" rel="stylesheet"/>&ndash;&gt;-->
<!--&lt;!&ndash;    <link rel="icon" type="image/png" href="./img/favicon.png"/>&ndash;&gt;-->
<!--    <script type="text/javascript">-->

<!--        ymaps.ready(init);-->
<!--        var myObjects, myMap, clusterer, customItemContentLayout;-->
<!--        // var placemark;-->

<!--        function init() {-->
<!--            myMap = new ymaps.Map('map', {-->
<!--                center: [59.9414329184,30.3133716286],-->
<!--                zoom: 10-->
<!--            });-->
<!--            myMap.controls.remove("searchControl");-->
<!--            ymaps.geolocation.get({-->
<!--                provider: 'yandex',-->
<!--                mapStateAutoApply: true-->
<!--            }).then(function (result) {-->
<!--                myMap.setCenter(result.geoObjects.position);-->

<!--//                    $.ajax({-->
<!--//                        cache: false,-->
<!--//                        method: "GET",-->
<!--//                        crossDomain: true,-->
<!--//                        dataType: "jsonp",-->
<!--//                        jsonpCallback: "parseResponse",-->
<!--//                        scriptCharset: "UTF-8",-->
<!--//                        url: "http://khmb.ru:8080/Proxy/Get?path=mapFindCity",-->
<!--//                        data: {pos1: result.geoObjects.position[1], pos2: result.geoObjects.position[0]},-->
<!--////                                                data: {city: metadata['text']},-->
<!--//                        success: function(data) {-->
<!--//                            var answer = data["json"];-->
<!--//                            myCity = answer;-->
<!--//                            $("#selectCity").val(myCity).change();-->
<!--//                        }-->
<!--//                    });-->

<!--            }).catch(function () {-->
<!--                console.log("error");-->
<!--            }).then(function (){-->
<!--                console.log("fdfs");-->



<!--                try {-->
<!--                    myObjects.removeFromMap(myMap);-->
<!--                } catch (e) {-->
<!--                }-->
<!--                ymaps.addLayer("layer1","application/vnd.mapbox-vector-tile","VECTOR",);-->
<!--                var osmLayer = new ymaps.Layer(function (tile, zoom) {-->



<!--                    application/vnd.mapbox-vector-tile-->


<!--                    // 'http://localhost:9090/maps/rem-gis/building/%z/%x/%y.vector.pbf?debug=true'-->
<!--                    return "http://localhost:9090/maps/rem-gis/building/" + zoom + "/" + tile[0] + "/" + tile[1] + ".raster.pbf?debug=true";-->
<!--                    // return "http://zemledelec.com/poselki77/tile/" + zoom + "-" + tile[0] + "-" + tile[1] + ".png";-->

<!--                });-->
<!--                myMap.layers.add(osmLayer);-->

<!--                // myMap.layers.add(new ymaps.Layer('http://localhost:9090/maps/rem-gis/building/10/10/10.vector.pbf?debug=true'));-->

<!--                // ymaps.geoXml.load("http://localhost.ru:8080/Proxy/Get?path=mapXmlLocality&locality=" + $(this).attr("id") + "&version=" + new Date().getTime())-->
<!--                //     .then(function(res) {-->
<!--                //         myObjects = ymaps.geoQuery(res.geoObjects);-->
<!--                //         myObjects.addToMap(myMap);-->
<!--                //-->
<!--                //     }, function(error) {-->
<!--                //         if (console)-->
<!--                //             console.warn("err:"+error);-->
<!--                //     });-->



<!--            });-->
<!--        }-->

<!--    </script>-->
<!--</head>-->
<!--<body style="height: 100%;">-->
<!--<div class="ui-widget-content" style="width: 850px; margin: auto;height: 100%;">-->
<!--    <table>-->
<!--&lt;!&ndash;        <tr>&ndash;&gt;-->
<!--&lt;!&ndash;            <td style="padding-left: 15px">&ndash;&gt;-->
<!--&lt;!&ndash;                <table id="mapDataTable">&ndash;&gt;-->
<!--&lt;!&ndash;                    <tr>&ndash;&gt;-->
<!--&lt;!&ndash;                        <td>Город&ndash;&gt;-->
<!--&lt;!&ndash;                            <select id="selectCity">&ndash;&gt;-->
<!--&lt;!&ndash;                            </select>&ndash;&gt;-->
<!--&lt;!&ndash;                        </td>&ndash;&gt;-->
<!--&lt;!&ndash;                        <td>&nbsp;&nbsp;День недели&ndash;&gt;-->
<!--&lt;!&ndash;                            <select id="selectDay" style="width: 130px">&ndash;&gt;-->
<!--&lt;!&ndash;                                <option value="0"></option>&ndash;&gt;-->
<!--&lt;!&ndash;                                <option value="1">Понедельник</option>&ndash;&gt;-->
<!--&lt;!&ndash;                                <option value="2">Вторник</option>&ndash;&gt;-->
<!--&lt;!&ndash;                                <option value="3">Среда</option>&ndash;&gt;-->
<!--&lt;!&ndash;                                <option value="4">Четверг</option>&ndash;&gt;-->
<!--&lt;!&ndash;                                <option value="5">Пятница</option>&ndash;&gt;-->
<!--&lt;!&ndash;                                <option value="6">Суббота</option>&ndash;&gt;-->
<!--&lt;!&ndash;                                <option value="7">Воскресенье</option>&ndash;&gt;-->
<!--&lt;!&ndash;                            </select>&ndash;&gt;-->
<!--&lt;!&ndash;                        </td>&ndash;&gt;-->
<!--&lt;!&ndash;                        <td>&nbsp;&nbsp;с&ndash;&gt;-->
<!--&lt;!&ndash;                            <select id="hoursfrom" style="width: 80px">&ndash;&gt;-->
<!--&lt;!&ndash;                                <option value="x"></option>&ndash;&gt;-->
<!--&lt;!&ndash;                            </select>&ndash;&gt;-->
<!--&lt;!&ndash;                        </td>&ndash;&gt;-->
<!--&lt;!&ndash;                        <td>&ndash;&gt;-->
<!--&lt;!&ndash;                            &nbsp;&nbsp;до&ndash;&gt;-->
<!--&lt;!&ndash;                            <select id="hoursto" style="width: 115px">&ndash;&gt;-->
<!--&lt;!&ndash;                                <option value="x"></option>&ndash;&gt;-->
<!--&lt;!&ndash;                            </select>&ndash;&gt;-->
<!--&lt;!&ndash;                        </td>&ndash;&gt;-->
<!--&lt;!&ndash;                    </tr>&ndash;&gt;-->
<!--&lt;!&ndash;                    <tr>&ndash;&gt;-->
<!--&lt;!&ndash;                        <td style="float: right;">&ndash;&gt;-->
<!--&lt;!&ndash;                            <button id="butMakeTable" style="width: 220px">Список банкоматов</button>&ndash;&gt;-->
<!--&lt;!&ndash;                        </td>&ndash;&gt;-->
<!--&lt;!&ndash;                        <td colspan="3" style="text-align: right;">&ndash;&gt;-->
<!--&lt;!&ndash;                            Служба поддержки:&ndash;&gt;-->
<!--&lt;!&ndash;                            <b>8 800 1001 700, +7 (3467) 390700</b>&ndash;&gt;-->
<!--&lt;!&ndash;                            <br/>звонок по России бесплатный&ndash;&gt;-->
<!--&lt;!&ndash;                        </td>&ndash;&gt;-->
<!--&lt;!&ndash;                        &lt;!&ndash;                                   Тип операции</td>&ndash;&gt;-->
<!--&lt;!&ndash;                        <td>&ndash;&gt;-->
<!--&lt;!&ndash;                        <select id="selectType">&ndash;&gt;-->
<!--&lt;!&ndash;                            <option value="no"></option>&ndash;&gt;-->
<!--&lt;!&ndash;                            <option value="all" selected>Безналичные операции</option>&ndash;&gt;-->
<!--&lt;!&ndash;                        <option value="atm">Выдача наличных</option>&ndash;&gt;-->
<!--&lt;!&ndash;                        <option value="ATcashin">Прием наличных</option>&ndash;&gt;-->
<!--&lt;!&ndash;                        </select>&ndash;&gt;-->
<!--&lt;!&ndash;                        </td>&ndash;&gt;-->
<!--&lt;!&ndash;                        <td>&nbsp;&nbsp;</td>&ndash;&gt;&ndash;&gt;-->

<!--&lt;!&ndash;                    </tr>&ndash;&gt;-->
<!--&lt;!&ndash;                </table>&ndash;&gt;-->
<!--&lt;!&ndash;            </td>&ndash;&gt;-->
<!--&lt;!&ndash;        </tr>&ndash;&gt;-->
<!--        <tr>-->
<!--            <td>-->
<!--                <div id="map" style="width: 800px; height: 600px; margin: 10px"></div>-->
<!--            </td>-->
<!--        </tr>-->
<!--&lt;!&ndash;        <tr>&ndash;&gt;-->
<!--&lt;!&ndash;            <td style="padding-left: 15px">&ndash;&gt;-->
<!--&lt;!&ndash;                <table style="border-collapse: collapse;">&ndash;&gt;-->
<!--&lt;!&ndash;                    <tr>&ndash;&gt;-->
<!--&lt;!&ndash;                        <td rowspan="2"><img src="http://www.khmb.ru:8080/Map/img/atmico.png" style="margin-right: 5px;"&ndash;&gt;-->
<!--&lt;!&ndash;                                             alt=""></td>&ndash;&gt;-->
<!--&lt;!&ndash;                        <td class="ATMtypeTd selectedType" data-type="cashin" style="padding-bottom:  3px;">&ndash;&gt;-->
<!--&lt;!&ndash;                            <div></div>&ndash;&gt;-->
<!--&lt;!&ndash;                            Банкомат (прием наличных)&ndash;&gt;-->
<!--&lt;!&ndash;                        </td>&ndash;&gt;-->
<!--&lt;!&ndash;                        <td rowspan="2"><img src="http://www.khmb.ru:8080/Map/img/inf.png"&ndash;&gt;-->
<!--&lt;!&ndash;                                             style="margin-left: 5px; margin-right: 5px;" alt=""></td>&ndash;&gt;-->
<!--&lt;!&ndash;                        <td class="ATMtypeTd selectedType" data-type="inf" rowspan="2">&ndash;&gt;-->
<!--&lt;!&ndash;                            <div></div>&ndash;&gt;-->
<!--&lt;!&ndash;                            Информационно-платежный киоск&ndash;&gt;-->
<!--&lt;!&ndash;                        </td>&ndash;&gt;-->
<!--&lt;!&ndash;                    </tr>&ndash;&gt;-->
<!--&lt;!&ndash;                    <tr>&ndash;&gt;-->
<!--&lt;!&ndash;                        <td class="ATMtypeTd selectedType" data-type="atm" style="padding-top: 3px;">&ndash;&gt;-->
<!--&lt;!&ndash;                            <div></div>&ndash;&gt;-->
<!--&lt;!&ndash;                            Банкомат&ndash;&gt;-->
<!--&lt;!&ndash;                        </td>&ndash;&gt;-->
<!--&lt;!&ndash;                    </tr>&ndash;&gt;-->
<!--&lt;!&ndash;                </table>&ndash;&gt;-->
<!--&lt;!&ndash;            </td>&ndash;&gt;-->
<!--&lt;!&ndash;        </tr>&ndash;&gt;-->
<!--        &lt;!&ndash;                <tr>-->
<!--        <td align="right">-->
<!--            Служба поддержки:-->
<!--            <b>8 800 1001 700, +7 (3467) 390700</b>-->
<!--        <br/>звонок по России бесплатный-->
<!--        </td>-->
<!--        </tr>&ndash;&gt;-->
<!--    </table>-->
<!--</div>-->
<!--&lt;!&ndash;<div id="atmTableDialog" style="width: 100%">&ndash;&gt;-->
<!--&lt;!&ndash;    <table id="atmTable" border="1" style="width: 100%">&ndash;&gt;-->
<!--&lt;!&ndash;        <tr>&ndash;&gt;-->
<!--&lt;!&ndash;            <th>Заголовок</th>&ndash;&gt;-->
<!--&lt;!&ndash;            <th>Адрес</th>&ndash;&gt;-->
<!--&lt;!&ndash;            <th>Время работы</th>&ndash;&gt;-->
<!--&lt;!&ndash;            <th>Состояние</th>&ndash;&gt;-->
<!--&lt;!&ndash;            &lt;!&ndash;<th width="15%">Состояние</th>&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;            &lt;!&ndash;<th>Функционал</th>&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;        </tr>&ndash;&gt;-->
<!--&lt;!&ndash;    </table>&ndash;&gt;-->
<!--&lt;!&ndash;</div>&ndash;&gt;-->
<!--&lt;!&ndash;<div id="loading" title="Загрузка...">&ndash;&gt;-->
<!--&lt;!&ndash;    <img id="loading-img" src="./img/loading.gif" alt="">&ndash;&gt;-->
<!--&lt;!&ndash;</div>&ndash;&gt;-->
<!--</body>-->
<!--</html>-->

<!--&lt;!&ndash;<script type="text/javascript" src="http://www.openlayers.org/api/OpenLayers.js"></script>&ndash;&gt;-->

<!--&lt;!&ndash;&lt;!&ndash; Создаем div, в котором будет отображаться карта &ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;<div id="YaMap" style="border:1px solid #c6c6c6;width:500px;height: 300px;"></div>&ndash;&gt;-->

<!--&lt;!&ndash;&lt;!&ndash; Код, описывающий карту &ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;<script type="text/javascript">&ndash;&gt;-->
<!--&lt;!&ndash;// Функция, возвращающая адреса тайлов Яндекс.Карты&ndash;&gt;-->
<!--&lt;!&ndash;function yandex_getTileURL(bounds) {&ndash;&gt;-->
<!--&lt;!&ndash;    var r = this.map.getResolution();&ndash;&gt;-->
<!--&lt;!&ndash;    var maxExt = (this.maxExtent) ? this.maxExtent : YaBounds;&ndash;&gt;-->
<!--&lt;!&ndash;    var w = (this.tileSize) ? this.tileSize.w : 256;&ndash;&gt;-->
<!--&lt;!&ndash;    var h = (this.tileSize) ? this.tileSize.h : 256;&ndash;&gt;-->
<!--&lt;!&ndash;    var x = Math.round((bounds.left - maxExt.left)/(r * w));&ndash;&gt;-->
<!--&lt;!&ndash;    var y = Math.round((maxExt.top - bounds.top)/(r * h));&ndash;&gt;-->
<!--&lt;!&ndash;    var z = this.map.getZoom();&ndash;&gt;-->
<!--&lt;!&ndash;    var lim = Math.pow(2, z);&ndash;&gt;-->
<!--&lt;!&ndash;    if (y <0>= lim) {&ndash;&gt;-->
<!--&lt;!&ndash;        return OpenLayers.Util.getImagesLocation() + "404.png";&ndash;&gt;-->
<!--&lt;!&ndash;    } else {&ndash;&gt;-->
<!--&lt;!&ndash;        x = ((x % lim) + lim) % lim;&ndash;&gt;-->
<!--&lt;!&ndash;        var url = (this.url) ? this.url : "http://vec02.maps.yandex.net/";&ndash;&gt;-->
<!--&lt;!&ndash;        return url + "tiles?l=map&v=2.2.3&x=" + x + "&y=" + y + "&z=" + z;&ndash;&gt;-->
<!--&lt;!&ndash;    }&ndash;&gt;-->
<!--&lt;!&ndash;};&ndash;&gt;-->

<!--&lt;!&ndash;// Границы Яндекс.Карты в пикселях&ndash;&gt;-->
<!--&lt;!&ndash;var YaBounds = new OpenLayers.Bounds(-20037508, -20002151, 20037508, 20072865);&ndash;&gt;-->

<!--&lt;!&ndash;// Объект карты&ndash;&gt;-->
<!--&lt;!&ndash;var map = new OpenLayers.Map('YaMap', {&ndash;&gt;-->
<!--&lt;!&ndash;    projection: new OpenLayers.Projection("EPSG:900913"),&ndash;&gt;-->
<!--&lt;!&ndash;    displayProjection: new OpenLayers.Projection("EPSG:4326"),&ndash;&gt;-->
<!--&lt;!&ndash;    units: "m",&ndash;&gt;-->
<!--&lt;!&ndash;    maxResolution: 156543.0339,&ndash;&gt;-->
<!--&lt;!&ndash;    maxExtent:new OpenLayers.Bounds(-20037508, -20037508, 20037508, 20037508.34)&ndash;&gt;-->
<!--&lt;!&ndash;});&ndash;&gt;-->

<!--&lt;!&ndash;// Слой Яндекс.Карты&ndash;&gt;-->
<!--&lt;!&ndash;var yandexMaps =&ndash;&gt;-->
<!--&lt;!&ndash;    new OpenLayers.Layer.TMS("Yandex.Maps", "http://vec02.maps.yandex.net/",&ndash;&gt;-->
<!--&lt;!&ndash;    {&ndash;&gt;-->
<!--&lt;!&ndash;        maxExtent: YaBounds,&ndash;&gt;-->
<!--&lt;!&ndash;        type: "png",&ndash;&gt;-->
<!--&lt;!&ndash;        // getURL: yandex_getTileURL,&ndash;&gt;-->
<!--&lt;!&ndash;        numZoomLevels: 18,&ndash;&gt;-->
<!--&lt;!&ndash;        attribution: '<a href="http://beta-maps.yandex.ru/">Яндекс.Карты</a>',&ndash;&gt;-->
<!--&lt;!&ndash;        transitionEffect: 'resize'&ndash;&gt;-->
<!--&lt;!&ndash;    });&ndash;&gt;-->

<!--&lt;!&ndash;// Добавляем на карту слои yandexMaps и OpenStreetMap&ndash;&gt;-->
<!--&lt;!&ndash;map.addLayers([yandexMaps, new OpenLayers.Layer.OSM()]);&ndash;&gt;-->

<!--&lt;!&ndash;// Добавляем контрол переключения слоев&ndash;&gt;-->
<!--&lt;!&ndash;map.addControl(new OpenLayers.Control.LayerSwitcher());&ndash;&gt;-->

<!--&lt;!&ndash;// Начальный зум, с которым загружается карта&ndash;&gt;-->
<!--&lt;!&ndash;map.zoomTo(4);&ndash;&gt;-->

<!--&lt;!&ndash;// Центр карты помещаем над Ташкентом&ndash;&gt;-->
<!--&lt;!&ndash;var proj = new OpenLayers.Projection("EPSG:4326");&ndash;&gt;-->
<!--&lt;!&ndash;var point = new OpenLayers.LonLat(69.28, 41.31);&ndash;&gt;-->
<!--&lt;!&ndash;map.setCenter(point.transform(proj, map.getProjectionObject()));&ndash;&gt;-->
<!--&lt;!&ndash;</script>&ndash;&gt;-->


<html>
<head>
    <title>Tegola Sample</title>
    <link rel="stylesheet" href="https://cdn.rawgit.com/openlayers/openlayers.github.io/master/en/v5.3.0/css/ol.css" type="text/css">
    <script src="https://cdn.rawgit.com/openlayers/openlayers.github.io/master/en/v5.3.0/build/ol.js"></script>
    <style>
      #map {
        width: 100%;
        height: 100%;
        position: absolute;
        background: #f8f4f0;
      }
    </style>
</head>
<body>
<div id="map"></div>
<script>
      var map = new ol.Map({
        layers: [
          new ol.layer.VectorTile({
            source: new ol.source.VectorTile({
              attributions: '© <a href="https://www.mapbox.com/map-feedback/">Mapbox</a> ' +
              '© <a href="http://www.openstreetmap.org/copyright">' +
              'OpenStreetMap contributors</a>',
              format: new ol.format.MVT(),
              tileGrid: ol.tilegrid.createXYZ({maxZoom: 2}),
              tilePixelRatio: 160,
              url:'http://localhost:9090/maps/rem-gis/{z}/{x}/{y}.pbf'
            })
          })
        ],
        target: 'map',
        view: new ol.View({
          center: [30.3133716286, 59.8407329184], //coordinates the map will center on initially
          zoom: 5
        })
      });
    </script>
</body>
</html>